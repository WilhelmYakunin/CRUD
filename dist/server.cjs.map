{"version":3,"file":"server.cjs","mappings":"2BACE,cACEA,OAAOC,OACL,GACA,EAAQ,KACR,EAAQ,IAAR,CAA6BC,QAAQC,S,QCL3C,MAAMC,EAAK,sDAEXC,EAAOC,QAAU,SAAwBC,GACvC,OAAOA,EAAKC,QAAO,SAAUC,EAAKC,GAChC,MAAMC,EAAUD,EAAIE,MAAMR,GAI1B,OAHIO,IACFF,EAAIE,EAAQ,IAAMA,EAAQ,IAErBF,IACN,M,QCRL,MAAMI,EAAU,GAE0B,MAAtCX,QAAQY,IAAIC,yBACdF,EAAQG,SAAWd,QAAQY,IAAIC,wBAGK,MAAlCb,QAAQY,IAAIG,qBACdJ,EAAQK,KAAOhB,QAAQY,IAAIG,oBAGU,MAAnCf,QAAQY,IAAIK,sBACdN,EAAQO,MAAQlB,QAAQY,IAAIK,qBAGY,MAAtCjB,QAAQY,IAAIO,yBACdR,EAAQS,SAAWpB,QAAQY,IAAIO,wBAGjChB,EAAOC,QAAUO,G,cCnBjB,MAAMU,EAAK,EAAQ,KACbL,EAAO,EAAQ,IACfM,EAAK,EAAQ,IAEbC,EAAO,+IAyCb,SAASC,EAAMC,GACbC,QAAQC,IAAI,mBAAmBF,KAuDjC,MAAMG,EAAe,CACnBC,OAhDF,SAAiBlB,GACf,IAAImB,EAAad,EAAKe,QAAQ/B,QAAQgC,MAAO,QACzClB,EAAW,OACf,MAAMI,EAAQe,QAAQtB,GAAWA,EAAQO,OACnCE,EAAWa,QAAQtB,GAAWA,EAAQS,UAT9C,IAAuBc,EAWjBvB,IACkB,MAAhBA,EAAQK,OACVc,EAZkB,OADDI,EAaSvB,EAAQK,MAZvB,GAAaA,EAAKmB,KAAKb,EAAGc,UAAWF,EAAQG,MAAM,IAAMH,GAc9C,MAApBvB,EAAQG,WACVA,EAAWH,EAAQG,WAIvB,IAEE,MAAMwB,EAASV,EAAaW,MAAMlB,EAAGmB,aAAaV,EAAY,CAAEhB,cAoBhE,OAlBAhB,OAAO2C,KAAKH,GAAQI,SAAQ,SAAUC,GAC/B7C,OAAO8C,UAAUC,eAAeC,KAAK9C,QAAQY,IAAK+B,KAGpC,IAAbvB,IACFpB,QAAQY,IAAI+B,GAAOL,EAAOK,IAGxBzB,GAEAM,GADe,IAAbJ,EACG,IAAIuB,+DAEJ,IAAIA,qEAVb3C,QAAQY,IAAI+B,GAAOL,EAAOK,MAgBvB,CAAEL,UACT,MAAOS,GAKP,OAJI7B,GACFM,EAAK,kBAAkBM,KAAciB,EAAEtB,WAGlC,CAAEuB,MAAOD,KAMlBR,MAhGF,SAAgBU,GACd,MAAMC,EAAM,GAGZ,IAKIxC,EALAyC,EAAQF,EAAIG,WAMhB,IAHAD,EAAQA,EAAME,QAAQ,UAAW,MAGI,OAA7B3C,EAAQa,EAAK+B,KAAKH,KAAiB,CACzC,MAAMR,EAAMjC,EAAM,GAGlB,IAAI6C,EAAS7C,EAAM,IAAM,GAGzB6C,EAAQA,EAAMC,OAGd,MAAMC,EAAaF,EAAM,GAGzBA,EAAQA,EAAMF,QAAQ,yBAA0B,MAG7B,MAAfI,IACFF,EAAQA,EAAMF,QAAQ,OAAQ,MAC9BE,EAAQA,EAAMF,QAAQ,OAAQ,OAIhCH,EAAIP,GAAOY,EAGb,OAAOL,IAgET/C,EAAOC,QAAQyB,OAASD,EAAaC,OACrC1B,EAAOC,QAAQmC,MAAQX,EAAaW,MACpCpC,EAAOC,QAAUwB,G,qBC5GjBzB,EAAOC,QAAUsD,QAAQ,O,oBCAzBvD,EAAOC,QAAUsD,QAAQ,O,oBCAzBvD,EAAOC,QAAUsD,QAAQ,UCCrBC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAa1D,QAGrB,IAAID,EAASwD,EAAyBE,GAAY,CAGjDzD,QAAS,IAOV,OAHA4D,EAAoBH,GAAU1D,EAAQA,EAAOC,QAASwD,GAG/CzD,EAAOC,QCpBfwD,EAAoBK,EAAK9D,IACxB,IAAI+D,EAAS/D,GAAUA,EAAOgE,WAC7B,IAAOhE,EAAiB,QACxB,IAAM,EAEP,OADAyD,EAAoBQ,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRN,EAAoBQ,EAAI,CAAChE,EAASkE,KACjC,IAAI,IAAI3B,KAAO2B,EACXV,EAAoBW,EAAED,EAAY3B,KAASiB,EAAoBW,EAAEnE,EAASuC,IAC5E7C,OAAO0E,eAAepE,EAASuC,EAAK,CAAE8B,YAAY,EAAMC,IAAKJ,EAAW3B,MCJ3EiB,EAAoBW,EAAI,CAACrB,EAAKyB,IAAU7E,OAAO8C,UAAUC,eAAeC,KAAKI,EAAKyB,G,mBCAlF,MAAM,EAA+BjB,QAAQ,Q,qBCK7C,QALmB,CACfkB,MAAO,GACPC,SAAU,CAAEC,MAAO,EAAGC,IAAK,IAC3BC,MAAO,ICHX,wHCMA,EAJA,SAAkBC,GAChB,MAAuB,iBAATA,GAAqB,OAAWA,ICEhD,IAAI,EAAY,UAAaC,YAiE7B,MCnDA,EAnBkB,SAAUC,EAAY1D,GAIpC,OAAI0D,EAAa,KAAOA,GAAc,IAC3B,CACHC,UAAW,2BACXD,WAAYA,EACZ1D,QAASA,GAKV,CACH2D,UAHmD,MAT5CC,OAAOC,OASqBH,GATNI,OAAO,GAAK,MAUb,wBAA0B,cAGtDJ,WAAYA,EACZ1D,QAASA,IChBX,EAA+BiC,QAAQ,U,aCC7C,SACE8B,WAAY,gBCDRC,EAAY,IAAIC,WAAW,KAEjC,IAAIC,EAAUF,EAAUG,OACT,SAASC,IAMtB,OALIF,EAAUF,EAAUG,OAAS,KAC/B,mBAAsBH,GACtBE,EAAU,GAGLF,EAAUpD,MAAMsD,EAASA,GAAW,ICJ7C,MAAMG,EAAY,GAElB,IAAK,IAAIC,EAAI,EAAGA,EAAI,MAAOA,EACzBD,EAAUE,MAAMD,EAAI,KAAO3C,SAAS,IAAIf,MAAM,ICmBhD,QAxBA,SAAY1B,EAASsF,EAAKC,GACxB,GAAI,eAAsBD,IAAQtF,EAChC,OAAO,eAIT,MAAMwF,GADNxF,EAAUA,GAAW,IACAyF,SAAWzF,EAAQkF,KAAOA,KAK/C,GAHAM,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBF,EAAK,CACPC,EAASA,GAAU,EAEnB,IAAK,IAAIH,EAAI,EAAGA,EAAI,KAAMA,EACxBE,EAAIC,EAASH,GAAKI,EAAKJ,GAGzB,OAAOE,EAGT,ODbK,SAAyBI,EAAKH,EAAS,GAG5C,OAAQJ,EAAUO,EAAIH,EAAS,IAAMJ,EAAUO,EAAIH,EAAS,IAAMJ,EAAUO,EAAIH,EAAS,IAAMJ,EAAUO,EAAIH,EAAS,IAAM,IAAMJ,EAAUO,EAAIH,EAAS,IAAMJ,EAAUO,EAAIH,EAAS,IAAM,IAAMJ,EAAUO,EAAIH,EAAS,IAAMJ,EAAUO,EAAIH,EAAS,IAAM,IAAMJ,EAAUO,EAAIH,EAAS,IAAMJ,EAAUO,EAAIH,EAAS,IAAM,IAAMJ,EAAUO,EAAIH,EAAS,KAAOJ,EAAUO,EAAIH,EAAS,KAAOJ,EAAUO,EAAIH,EAAS,KAAOJ,EAAUO,EAAIH,EAAS,KAAOJ,EAAUO,EAAIH,EAAS,KAAOJ,EAAUO,EAAIH,EAAS,MAAMI,cCU9eC,CAAgBJ,ICzBzB,IAAIK,EAAsC,WAStC,OARAA,EAAW1G,OAAOC,QAAU,SAAS0G,GACjC,IAAK,IAAIC,EAAGX,EAAI,EAAG9B,EAAI0C,UAAUf,OAAQG,EAAI9B,EAAG8B,IAE5C,IAAK,IAAIa,KADTF,EAAIC,UAAUZ,GACOjG,OAAO8C,UAAUC,eAAeC,KAAK4D,EAAGE,KACzDH,EAAEG,GAAKF,EAAEE,IAEjB,OAAOH,GAEJD,EAASK,MAAMC,KAAMH,YAiChC,QA9BU,SAAUI,EAAKC,GACrB,IAAIpG,EAAMZ,QAAQY,IAAKqG,EAAMjH,QAAQiH,IAC1BrG,EAAIsG,KACXlH,QAAQmH,KACRJ,EAAIK,QAAUZ,EAASA,EAAS,GAAIO,EAAIK,SAAU,CAAEC,KAAM,mBAG1D3F,QAAQC,IAAI,QAAQ2F,OAAOL,EAAK,MAAMK,OAAOP,EAAIQ,OAAQ,KAAKD,OAAOP,EAAIS,MAE7E,IAAID,EAASR,EAAIQ,OAAQC,EAAMT,EAAIS,IACnC,OAAQD,GACJ,IAAK,OPjBD,SAAUC,EAAKR,GACvB,IAQQS,EACAC,EAgBJC,EAAmBH,EAAII,YAAY,KACnCC,EAAKL,EAAInF,MAAMsF,EAAmB,GA4BtC,OAAQH,GACJ,IAAK,IACD,OAhDAC,EAAY,OAAU,EAAW,eACjCC,GAAU,IAAAI,kBAAiBL,IACvBM,GAAG,QAAQ,SAAUC,GACzBhB,EAAI7B,WAAa,IACjB6B,EAAIiB,MAAMD,WAEdN,EAAQK,GAAG,OAAO,WACdf,EAAIkB,SA0CR,IAAK,aACD,OAtCJlB,EAAI7B,WAAa,IACjB6B,EAAIiB,MAAME,KAAKC,UAAUC,EAAMzD,aAC/BoC,EAAIkB,MAqCJ,SAhCW,WACX,IAAK,EAASL,IAA4B,eAArBL,EAAInF,MAAM,EAAG,IAAsB,CACpD2E,EAAI7B,WAAa,IACjB,IAAImD,EAAM,EAAY,IAAK,0BAA0BhB,OAAOO,EAAI,wBAGhE,OAFAb,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,SACpCtB,EAAIkB,MAMR,IAFWG,EAAMrD,MAAMuD,SAASf,IAEa,eAArBA,EAAInF,MAAM,EAAG,IACjC,OAvCQ,WACZ2E,EAAI7B,WAAa,IACjB,IAAImD,EAAM,EAAY,IAAK,QAAQhB,OAAOE,EAAK,eAC/CR,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,IACpCtB,EAAIkB,MAmCOM,GACX,IAAIC,EAAUJ,EAAMzD,MAAM8D,MAAK,SAAUC,GAAQ,OAAOA,EAAKd,KAAOA,KACpE,IAAKY,EAKD,OAJAzB,EAAI7B,WAAa,IACbmD,EAAM,EAAY,IAAK,oBAAoBhB,OAAOO,EAAI,oBAC1Db,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,SACpCtB,EAAIkB,MAGR,IAAIU,EAAQP,EAAMzD,MAAMiE,WAAU,SAAUF,GAAQ,OAAOA,EAAKd,KAAOA,KACnEc,EAAON,EAAMzD,MAAMkE,OAAOF,EAAO,GAAG,GACxC5B,EAAIiB,MAAME,KAAKC,UAAUO,EAAM,KAAM,IACrC3B,EAAIkB,OASOa,IO3CP,CAAMvB,EAAKR,GACX,MACJ,IAAK,QCvBA,SAAUD,EAAKC,GACxB,GAAgB,eAAZD,EAAIS,IAAsB,CAC1BR,EAAI7B,WAAa,IACjB,IAAImD,EAAM,EAAY,IAAK,sBAG3B,OAFAtB,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,SACpCtB,EAAIkB,MAGR,IAAIc,EAAW,GACfjC,EACKgB,GAAG,QAAQ,SAAUC,GACtBgB,GAAYhB,KAEXD,GAAG,OAAO,WACX,IAAIkB,EACAC,EACAC,EAAU,GACVC,EAAWJ,EAASK,MAAM,KAC1BC,EAAgB,GA2BpB,GA1BAF,EAASG,KAAI,SAAUC,GACnB,OAAQA,EAAKH,MAAM,KAAK,IACpB,IAAK,WAED,OADAC,EAActD,KAAK,YACXiD,EAAWO,EAAKH,MAAM,KAAK,GACvC,IAAK,MAED,OADAC,EAActD,KAAK,OACXkD,EAAM7D,OAAOmE,EAAKH,MAAM,KAAK,IACzC,IAAK,UACDC,EAActD,KAAK,WACnB,IAAIyD,EAAgBD,EAAKH,MAAM,KAAK,GAIpC,YAHsB,KAAlBI,GACAA,EAAcJ,MAAM,OAAOE,KAAI,SAAUG,GAAS,OAAOP,EAAQnD,KAAK0D,OAG9E,QACI1C,EAAI7B,WAAa,IACjB,IAAImD,EAAM,EAAY,IAAK,uBAAuBhB,OAAOkC,EAAKH,MAAM,KAAK,GAAI,mBAAmB/B,OAAOkC,EAAKH,MAAM,KAAK,KAGvH,OAFArC,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,SACpCtB,EAAIkB,WAIEjG,QAAQqH,EAAcf,SAAS,aAC7Ce,EAAcf,SAAS,QACvBe,EAAcf,SAAS,YACT,CACdvB,EAAI7B,WAAa,IACjB,IAAImD,EAAM,EAAY,IAAK,8CAE3B,OADAtB,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,IAC7BtB,EAAIkB,MAGf,GADWG,EAAMzD,MAAM8D,MAAK,SAAUC,GAAQ,OAAOA,EAAKM,WAAaA,GAAYN,EAAKO,MAAQA,KAK5F,OAHAlC,EAAI7B,WAAa,IACbmD,EAAM,EAAY,IAAK,sBAC3BtB,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,IAC7BtB,EAAIkB,MAEf,IACQL,EAKJ8B,EAAU,CACV9B,GAAIvC,QANAuC,EAAK,IACTQ,EAAMxD,SAASC,OAAS,EACxBuD,EAAMxD,SAASE,IAAIiB,KAAK6B,GACjBA,IAIPoB,SAAUA,EACVC,IAAKA,EACLC,QAASlH,QAAQkH,GAAWA,EAAU,IAM1C,OAJAd,EAAMzD,MAAMoB,KAAK2D,GACjBtB,EAAMrD,MAAMgB,KAAK,cAAgB2D,EAAQ9B,IACzCb,EAAI7B,WAAa,IACjB6B,EAAIiB,MAAME,KAAKC,UAAUuB,IAClB3C,EAAIkB,SDlDP,CAAOnB,EAAKC,GACZ,MACJ,IAAK,OE1BD,SAAUD,EAAKC,GACvB,IAAIgC,EAAW,GACfjC,EACKgB,GAAG,QAAQ,SAAUC,GACtBgB,GAAYhB,KAEXD,GAAG,OAAO,WACX,IAiBIkB,EACAC,EAlBAvB,EAAmBZ,EAAIS,IAAII,YAAY,KACvCC,EAAKd,EAAIS,IAAInF,MAAMsF,EAAmB,GAC1C,IAAK,EAASE,GAAK,CACfb,EAAI7B,WAAa,IACjB,IAAImD,EAAM,EAAY,IAAK,0BAA0BhB,OAAOO,EAAI,wBAGhE,OAFAb,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,SACpCtB,EAAIkB,MAIR,IADWG,EAAMzD,MAAM8D,MAAK,SAAUC,GAAQ,OAAOA,EAAKd,KAAOA,KAM7D,OAJAb,EAAI7B,WAAa,IACbmD,EAAM,EAAY,IAAK,oBAAoBhB,OAAOO,EAAI,oBAC1Db,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,SACpCtB,EAAIkB,MAKR,IAAIiB,EAAU,GACVC,EAAWJ,EAASK,MAAM,KAC1BC,EAAgB,GA2BpB,GA1BAF,EAASG,KAAI,SAAUC,GACnB,OAAQA,EAAKH,MAAM,KAAK,IACpB,IAAK,WAED,OADAC,EAActD,KAAK,YACXiD,EAAWO,EAAKH,MAAM,KAAK,GACvC,IAAK,MAED,OADAC,EAActD,KAAK,OACXkD,EAAM7D,OAAOmE,EAAKH,MAAM,KAAK,IACzC,IAAK,UACDC,EAActD,KAAK,WACnB,IAAIyD,EAAgBD,EAAKH,MAAM,KAAK,GAIpC,YAHsB,KAAlBI,GACAA,EAAcJ,MAAM,OAAOE,KAAI,SAAUG,GAAS,OAAOP,EAAQnD,KAAK0D,OAG9E,QACI1C,EAAI7B,WAAa,IACjB,IAAImD,EAAM,EAAY,IAAK,uBAAuBhB,OAAOkC,EAAKH,MAAM,KAAK,GAAI,mBAAmB/B,OAAOkC,EAAKH,MAAM,KAAK,KAGvH,OAFArC,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,SACpCtB,EAAIkB,WAIEjG,QAAQqH,EAAcf,SAAS,aAC7Ce,EAAcf,SAAS,QACvBe,EAAcf,SAAS,YAKvB,OAHAvB,EAAI7B,WAAa,IACbmD,EAAM,EAAY,IAAK,8CAC3BtB,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,IAC7BtB,EAAIkB,MAEf,IAAI0B,EAAc,CACdX,SAAUA,EACVC,IAAKA,EACLC,QAASlH,QAAQkH,GAAWA,EAAU,IAE1Cd,EAAMzD,MAAM2E,KAAI,SAAUZ,GAClBA,EAAKd,KAAOA,GACZ/H,OAAOC,OAAO4I,EAAMiB,MAG5B5C,EAAIiB,MAAME,KAAKC,UAAUwB,IACzB5C,EAAIkB,SF7CA,CAAMnB,EAAKC,GACX,MACJ,IAAK,UG7BE,SAAUD,EAAKC,GAE1BD,EACKgB,GAAG,QAAQ,SAAUC,OAGrBD,GAAG,OAAO,WACX,IAAIJ,EAAmBZ,EAAIS,IAAII,YAAY,KACvCC,EAAKd,EAAIS,IAAInF,MAAMsF,EAAmB,GAC1C,IAAK,EAASE,GAAK,CACfb,EAAI7B,WAAa,IACjB,IAAImD,EAAM,EAAY,IAAK,UAAUhB,OAAOO,EAAI,mCAGhD,OAFAb,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,SACpCtB,EAAIkB,MAIR,IADWG,EAAMzD,MAAM8D,MAAK,SAAUC,GAAQ,OAAOA,EAAKd,KAAOA,KAM7D,OAJAb,EAAI7B,WAAa,IACbmD,EAAM,EAAY,IAAK,oBAAoBhB,OAAOO,EAAI,oBAC1Db,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,SACpCtB,EAAIkB,MAGR,IAAI2B,EAAUxB,EAAMzD,MAAMiE,WAAU,SAAUF,GAAQ,OAAOA,EAAKd,KAAOA,KACrEiC,EAAYzB,EAAMrD,MAAM6D,WAAU,SAAU7H,GAAQ,OAAOA,IAAS,aAAe6G,KACvFQ,EAAMzD,MAAMkE,OAAOe,EAAS,GAC5BxB,EAAMrD,MAAM8D,OAAOgB,EAAW,GAC9B9C,EAAI7B,WAAa,IACjB6B,EAAIiB,MAAM,qBAAqBX,OAAOO,EAAI,aAC1Cb,EAAIkB,SHAA,CAASnB,EAAKC,GACd,MACJ,QACIA,EAAI7B,WAAa,IACjB,IAAImD,EAAM,EAAY,IAAK,8CAA8ChB,OAAOC,EAAQ,UAAUD,OAAOE,IAEzG,OADAR,EAAIiB,MAAME,KAAKC,UAAUE,EAAK,KAAM,IAC7BtB,EAAIkB,Q,WIAnBtH,EAAMZ,QAAQY,IAAKqG,EAAMjH,QAAQiH,IACjCC,EAAOtG,EAAIsG,KACX6C,EAAS,iBACbA,EAAOC,OAAO9C,GAAM,WAChBlH,QAAQiK,OAAOhC,MAAM,8BAA8BX,OAAOJ,EAAM,eAAeI,OAAOL,EAAK,QAC3F8C,EAAOG,YAAY,WAAW,SAAUnD,EAAKC,GAAO,OA5CFmD,OA4CmB,EA5CVC,OA4CkB,EA5CHC,EA4CmB,WAAc,OAnC/D,SAAUF,EAASG,GAC/D,IAAsGC,EAAGC,EAAG/D,EAAGgE,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPnE,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOoE,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXC,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAOpE,OAAU2D,EACvJ,SAASO,EAAK/G,GAAK,OAAO,SAAUkH,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIc,UAAU,mCAC3B,KAAOX,OACH,GAAIH,EAAI,EAAGC,IAAM/D,EAAY,EAAR2E,EAAG,GAASZ,EAAU,OAAIY,EAAG,GAAKZ,EAAS,SAAO/D,EAAI+D,EAAU,SAAM/D,EAAE3D,KAAK0H,GAAI,GAAKA,EAAEO,SAAWtE,EAAIA,EAAE3D,KAAK0H,EAAGY,EAAG,KAAKE,KAAM,OAAO7E,EAE3J,OADI+D,EAAI,EAAG/D,IAAG2E,EAAK,CAAS,EAARA,EAAG,GAAQ3E,EAAElD,QACzB6H,EAAG,IACP,KAAK,EAAG,KAAK,EAAG3E,EAAI2E,EAAI,MACxB,KAAK,EAAc,OAAXV,EAAEC,QAAgB,CAAEpH,MAAO6H,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGZ,EAAEC,QAASH,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKV,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,MAAkB9E,GAAZA,EAAIiE,EAAEG,MAAYjF,OAAS,GAAKa,EAAEA,EAAEb,OAAS,KAAkB,IAAVwF,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEV,EAAI,EAAG,SACjG,GAAc,IAAVU,EAAG,MAAc3E,GAAM2E,EAAG,GAAK3E,EAAE,IAAM2E,EAAG,GAAK3E,EAAE,IAAM,CAAEiE,EAAEC,MAAQS,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYV,EAAEC,MAAQlE,EAAE,GAAI,CAAEiE,EAAEC,MAAQlE,EAAE,GAAIA,EAAI2E,EAAI,MAC7D,GAAI3E,GAAKiE,EAAEC,MAAQlE,EAAE,GAAI,CAAEiE,EAAEC,MAAQlE,EAAE,GAAIiE,EAAEI,IAAI9E,KAAKoF,GAAK,MACvD3E,EAAE,IAAIiE,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBH,EAAKd,EAAKxH,KAAKqH,EAASO,GAC1B,MAAO3H,GAAKqI,EAAK,CAAC,EAAGrI,GAAIyH,EAAI,EAAK,QAAUD,EAAI9D,EAAI,EACtD,GAAY,EAAR2E,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE7H,MAAO6H,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BE,CAAK,CAACvH,EAAGkH,MAgCyDM,CAAY3E,MAAM,SAAU4E,GAC1I,OAAQA,EAAGf,OACP,KAAK,EAAG,MAAO,CAAC,EAAa,EAAI5D,EAAKC,IACtC,KAAK,EAAG,MAAO,CAAC,EAAc0E,EAAGd,aA7ClC,KAFgEe,OA4Cc,KA1CnEA,EAAIC,WAAU,SAAU7J,EAAS8J,GAC/C,SAASC,EAAUvI,GAAS,IAAMiI,EAAKnB,EAAUU,KAAKxH,IAAW,MAAOR,GAAK8I,EAAO9I,IACpF,SAASgJ,EAASxI,GAAS,IAAMiI,EAAKnB,EAAiB,MAAE9G,IAAW,MAAOR,GAAK8I,EAAO9I,IACvF,SAASyI,EAAKQ,GAJlB,IAAezI,EAIayI,EAAOV,KAAOvJ,EAAQiK,EAAOzI,QAJ1CA,EAIyDyI,EAAOzI,MAJhDA,aAAiBoI,EAAIpI,EAAQ,IAAIoI,GAAE,SAAU5J,GAAWA,EAAQwB,OAIT0I,KAAKH,EAAWC,GAClGP,GAAMnB,EAAYA,EAAUxD,MAAMsD,EAASC,GAAc,KAAKW,WAN1B,IAAUZ,EAASC,EAAYuB,EAAGtB,S","sources":["webpack://simple_crud_server/./node_modules/dotenv/config.js","webpack://simple_crud_server/./node_modules/dotenv/lib/cli-options.js","webpack://simple_crud_server/./node_modules/dotenv/lib/env-options.js","webpack://simple_crud_server/./node_modules/dotenv/lib/main.js","webpack://simple_crud_server/external node-commonjs \"fs\"","webpack://simple_crud_server/external node-commonjs \"os\"","webpack://simple_crud_server/external node-commonjs \"path\"","webpack://simple_crud_server/webpack/bootstrap","webpack://simple_crud_server/webpack/runtime/compat get default export","webpack://simple_crud_server/webpack/runtime/define property getters","webpack://simple_crud_server/webpack/runtime/hasOwnProperty shorthand","webpack://simple_crud_server/external node-commonjs \"http\"","webpack://simple_crud_server/./src/controller/state.ts","webpack://simple_crud_server/./node_modules/uuid/dist/esm-node/regex.js","webpack://simple_crud_server/./node_modules/uuid/dist/esm-node/validate.js","webpack://simple_crud_server/./src/controller/onGet.ts","webpack://simple_crud_server/./src/controller/createError.ts","webpack://simple_crud_server/external node-commonjs \"crypto\"","webpack://simple_crud_server/./node_modules/uuid/dist/esm-node/native.js","webpack://simple_crud_server/./node_modules/uuid/dist/esm-node/rng.js","webpack://simple_crud_server/./node_modules/uuid/dist/esm-node/stringify.js","webpack://simple_crud_server/./node_modules/uuid/dist/esm-node/v4.js","webpack://simple_crud_server/./src/app.ts","webpack://simple_crud_server/./src/controller/onPost.ts","webpack://simple_crud_server/./src/controller/onPut.ts","webpack://simple_crud_server/./src/controller/onDelete.ts","webpack://simple_crud_server/./src/index.ts"],"sourcesContent":["(function () {\n  require('./lib/main').config(\n    Object.assign(\n      {},\n      require('./lib/env-options'),\n      require('./lib/cli-options')(process.argv)\n    )\n  )\n})()\n","const re = /^dotenv_config_(encoding|path|debug|override)=(.+)$/\n\nmodule.exports = function optionMatcher (args) {\n  return args.reduce(function (acc, cur) {\n    const matches = cur.match(re)\n    if (matches) {\n      acc[matches[1]] = matches[2]\n    }\n    return acc\n  }, {})\n}\n","// ../config.js accepts options via environment variables\nconst options = {}\n\nif (process.env.DOTENV_CONFIG_ENCODING != null) {\n  options.encoding = process.env.DOTENV_CONFIG_ENCODING\n}\n\nif (process.env.DOTENV_CONFIG_PATH != null) {\n  options.path = process.env.DOTENV_CONFIG_PATH\n}\n\nif (process.env.DOTENV_CONFIG_DEBUG != null) {\n  options.debug = process.env.DOTENV_CONFIG_DEBUG\n}\n\nif (process.env.DOTENV_CONFIG_OVERRIDE != null) {\n  options.override = process.env.DOTENV_CONFIG_OVERRIDE\n}\n\nmodule.exports = options\n","const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parser src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _log (message) {\n  console.log(`[dotenv][DEBUG] ${message}`)\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  let dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n\n  if (options) {\n    if (options.path != null) {\n      dotenvPath = _resolveHome(options.path)\n    }\n    if (options.encoding != null) {\n      encoding = options.encoding\n    }\n  }\n\n  try {\n    // Specifying an encoding returns a string instead of a buffer\n    const parsed = DotenvModule.parse(fs.readFileSync(dotenvPath, { encoding }))\n\n    Object.keys(parsed).forEach(function (key) {\n      if (!Object.prototype.hasOwnProperty.call(process.env, key)) {\n        process.env[key] = parsed[key]\n      } else {\n        if (override === true) {\n          process.env[key] = parsed[key]\n        }\n\n        if (debug) {\n          if (override === true) {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and WAS overwritten`)\n          } else {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and was NOT overwritten`)\n          }\n        }\n      }\n    })\n\n    return { parsed }\n  } catch (e) {\n    if (debug) {\n      _log(`Failed to load ${dotenvPath} ${e.message}`)\n    }\n\n    return { error: e }\n  }\n}\n\nconst DotenvModule = {\n  config,\n  parse\n}\n\nmodule.exports.config = DotenvModule.config\nmodule.exports.parse = DotenvModule.parse\nmodule.exports = DotenvModule\n","module.exports = require(\"fs\");","module.exports = require(\"os\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"http\");","var defaultState = {\r\n    users: [],\r\n    usersIDs: { count: 0, ids: [] },\r\n    paths: [],\r\n};\r\nexport default defaultState;\r\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import * as path from 'path';\r\nimport { createReadStream } from 'fs';\r\nimport state from './state';\r\nimport { createError } from '../controller';\r\nimport { validate } from 'uuid';\r\nvar __dirname = path.dirname(__filename);\r\nvar onGet = function (url, res) {\r\n    var sendError = function () {\r\n        res.statusCode = 404;\r\n        var err = createError(404, \"page \".concat(url, \" not found\"));\r\n        res.write(JSON.stringify(err, null, 2));\r\n        res.end();\r\n        return;\r\n    };\r\n    var sendIndex = function () {\r\n        var indexFile = path.join(__dirname, 'index.html');\r\n        var readble = createReadStream(indexFile);\r\n        readble.on('data', function (chunk) {\r\n            res.statusCode = 200;\r\n            res.write(chunk);\r\n        });\r\n        readble.on('end', function () {\r\n            res.end();\r\n            return;\r\n        });\r\n    };\r\n    var getAllusers = function () {\r\n        res.statusCode = 200;\r\n        res.write(JSON.stringify(state.users));\r\n        res.end();\r\n        return;\r\n    };\r\n    var indexofLastSlash = url.lastIndexOf('/');\r\n    var id = url.slice(indexofLastSlash + 1);\r\n    var sendUser = function () {\r\n        if (!validate(id) && url.slice(0, 10) === '/api/users') {\r\n            res.statusCode = 400;\r\n            var err = createError(400, \"unknown type of the id \".concat(id, \" or url is incorect\"));\r\n            res.write(JSON.stringify(err, null, 2));\r\n            res.end();\r\n            return;\r\n        }\r\n        var isCorrectPage = function () {\r\n            return state.paths.includes(url);\r\n        };\r\n        if (!isCorrectPage() && url.slice(0, 10) !== '/api/users')\r\n            return sendError();\r\n        var hasUser = state.users.find(function (user) { return user.id === id; });\r\n        if (!hasUser) {\r\n            res.statusCode = 404;\r\n            var err = createError(404, \"user with the id \".concat(id, \" does not exist\"));\r\n            res.write(JSON.stringify(err, null, 2));\r\n            res.end();\r\n            return;\r\n        }\r\n        var index = state.users.findIndex(function (user) { return user.id === id; });\r\n        var user = state.users.splice(index, 1)[0];\r\n        res.write(JSON.stringify(user, null, 2));\r\n        res.end();\r\n        return;\r\n    };\r\n    switch (url) {\r\n        case '/':\r\n            return sendIndex();\r\n        case '/api/users':\r\n            return getAllusers();\r\n        default:\r\n            return sendUser();\r\n    }\r\n};\r\nexport default onGet;\r\n","var createError = function (statusCode, message) {\r\n    var getStatusCodeClass = function (status) {\r\n        return Number(String(status).charAt(0) + '00');\r\n    };\r\n    if (statusCode < 400 || statusCode >= 600) {\r\n        return {\r\n            codeClass: 'not http or server error',\r\n            statusCode: statusCode,\r\n            message: message,\r\n        };\r\n    }\r\n    var isInternalErr = getStatusCodeClass(statusCode) === 500;\r\n    var codeClass = isInternalErr ? 'Internal server error' : 'Bad Request';\r\n    return {\r\n        codeClass: codeClass,\r\n        statusCode: statusCode,\r\n        message: message,\r\n    };\r\n};\r\nexport default createError;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"crypto\");","import crypto from 'crypto';\nexport default {\n  randomUUID: crypto.randomUUID\n};","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { onGet, onPost, onPut, onDelete, createError } from './controller';\r\nvar app = function (req, res) {\r\n    var env = process.env, pid = process.pid;\r\n    var port = env.port;\r\n    if (process.send) {\r\n        req.headers = __assign(__assign({}, req.headers), { host: 'localhost:4040' });\r\n    }\r\n    else {\r\n        console.log(\"pid: \".concat(pid, \": \").concat(req.method, \" \").concat(req.url));\r\n    }\r\n    var method = req.method, url = req.url;\r\n    switch (method) {\r\n        case 'GET':\r\n            onGet(url, res);\r\n            break;\r\n        case 'POST':\r\n            onPost(req, res);\r\n            break;\r\n        case 'PUT':\r\n            onPut(req, res);\r\n            break;\r\n        case 'DELETE':\r\n            onDelete(req, res);\r\n            break;\r\n        default:\r\n            res.statusCode = 500;\r\n            var err = createError(500, \"somthing went wrong on server side method: \".concat(method, \" url: \").concat(url));\r\n            res.write(JSON.stringify(err, null, 2));\r\n            return res.end();\r\n    }\r\n};\r\nexport default app;\r\n","import createError from './createError';\r\nimport state from './state';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nvar onPost = function (req, res) {\r\n    if (req.url !== '/api/users') {\r\n        res.statusCode = 404;\r\n        var err = createError(404, 'unknown url adress');\r\n        res.write(JSON.stringify(err, null, 2));\r\n        res.end();\r\n        return;\r\n    }\r\n    var userData = '';\r\n    req\r\n        .on('data', function (chunk) {\r\n        userData += chunk;\r\n    })\r\n        .on('end', function () {\r\n        var username;\r\n        var age;\r\n        var hobbies = [];\r\n        var reqPairs = userData.split('&');\r\n        var allPropsNames = [];\r\n        reqPairs.map(function (pair) {\r\n            switch (pair.split('=')[0]) {\r\n                case 'username':\r\n                    allPropsNames.push('username');\r\n                    return (username = pair.split('=')[1]);\r\n                case 'age':\r\n                    allPropsNames.push('age');\r\n                    return (age = Number(pair.split('=')[1]));\r\n                case 'hobbies':\r\n                    allPropsNames.push('hobbies');\r\n                    var hobbiesString = pair.split('=')[1];\r\n                    if (hobbiesString !== '') {\r\n                        hobbiesString.split('%2C').map(function (hobby) { return hobbies.push(hobby); });\r\n                    }\r\n                    return;\r\n                default:\r\n                    res.statusCode = 400;\r\n                    var err = createError(400, \"unknown input filed \".concat(pair.split('=')[0], \" with property \").concat(pair.split('=')[1]));\r\n                    res.write(JSON.stringify(err, null, 2));\r\n                    res.end();\r\n                    return;\r\n            }\r\n        });\r\n        var hasAllProps = Boolean(allPropsNames.includes('username') &&\r\n            allPropsNames.includes('age') &&\r\n            allPropsNames.includes('hobbies'));\r\n        if (!hasAllProps) {\r\n            res.statusCode = 400;\r\n            var err = createError(400, 'input does not contain all required fields');\r\n            res.write(JSON.stringify(err, null, 2));\r\n            return res.end();\r\n        }\r\n        var user = state.users.find(function (user) { return user.username === username && user.age === age; });\r\n        if (user) {\r\n            res.statusCode = 400;\r\n            var err = createError(400, \"user already exist\");\r\n            res.write(JSON.stringify(err, null, 2));\r\n            return res.end();\r\n        }\r\n        var getId = function () {\r\n            var id = uuidv4();\r\n            state.usersIDs.count += 1;\r\n            state.usersIDs.ids.push(id);\r\n            return id;\r\n        };\r\n        var newUser = {\r\n            id: String(getId()),\r\n            username: username,\r\n            age: age,\r\n            hobbies: Boolean(hobbies) ? hobbies : [],\r\n        };\r\n        state.users.push(newUser);\r\n        state.paths.push('/api/users/' + newUser.id);\r\n        res.statusCode = 201;\r\n        res.write(JSON.stringify(newUser));\r\n        return res.end();\r\n    });\r\n};\r\nexport default onPost;\r\n","import createError from './createError';\r\nimport state from './state';\r\nimport { validate } from 'uuid';\r\nvar onPut = function (req, res) {\r\n    var userData = '';\r\n    req\r\n        .on('data', function (chunk) {\r\n        userData += chunk;\r\n    })\r\n        .on('end', function () {\r\n        var indexofLastSlash = req.url.lastIndexOf('/');\r\n        var id = req.url.slice(indexofLastSlash + 1);\r\n        if (!validate(id)) {\r\n            res.statusCode = 400;\r\n            var err = createError(400, \"unknown type of the id \".concat(id, \" or url is incorect\"));\r\n            res.write(JSON.stringify(err, null, 2));\r\n            res.end();\r\n            return;\r\n        }\r\n        var user = state.users.find(function (user) { return user.id === id; });\r\n        if (!user) {\r\n            res.statusCode = 404;\r\n            var err = createError(404, \"user with the id \".concat(id, \" does not exist\"));\r\n            res.write(JSON.stringify(err, null, 2));\r\n            res.end();\r\n            return;\r\n        }\r\n        var username;\r\n        var age;\r\n        var hobbies = [];\r\n        var reqPairs = userData.split('&');\r\n        var allPropsNames = [];\r\n        reqPairs.map(function (pair) {\r\n            switch (pair.split('=')[0]) {\r\n                case 'username':\r\n                    allPropsNames.push('username');\r\n                    return (username = pair.split('=')[1]);\r\n                case 'age':\r\n                    allPropsNames.push('age');\r\n                    return (age = Number(pair.split('=')[1]));\r\n                case 'hobbies':\r\n                    allPropsNames.push('hobbies');\r\n                    var hobbiesString = pair.split('=')[1];\r\n                    if (hobbiesString !== '') {\r\n                        hobbiesString.split('%2C').map(function (hobby) { return hobbies.push(hobby); });\r\n                    }\r\n                    return;\r\n                default:\r\n                    res.statusCode = 400;\r\n                    var err = createError(400, \"unknown input filed \".concat(pair.split('=')[0], \" with property \").concat(pair.split('=')[1]));\r\n                    res.write(JSON.stringify(err, null, 2));\r\n                    res.end();\r\n                    return;\r\n            }\r\n        });\r\n        var hasAllProps = Boolean(allPropsNames.includes('username') &&\r\n            allPropsNames.includes('age') &&\r\n            allPropsNames.includes('hobbies'));\r\n        if (!hasAllProps) {\r\n            res.statusCode = 400;\r\n            var err = createError(400, 'input does not contain all required fields');\r\n            res.write(JSON.stringify(err, null, 2));\r\n            return res.end();\r\n        }\r\n        var newUserInfo = {\r\n            username: username,\r\n            age: age,\r\n            hobbies: Boolean(hobbies) ? hobbies : [],\r\n        };\r\n        state.users.map(function (user) {\r\n            if (user.id === id) {\r\n                Object.assign(user, newUserInfo);\r\n            }\r\n        });\r\n        res.write(JSON.stringify(newUserInfo));\r\n        res.end();\r\n    });\r\n};\r\nexport default onPut;\r\n","import createError from './createError';\r\nimport state from './state';\r\nimport { validate } from 'uuid';\r\nvar onDelete = function (req, res) {\r\n    var userData = '';\r\n    req\r\n        .on('data', function (chunk) {\r\n        userData += chunk;\r\n    })\r\n        .on('end', function () {\r\n        var indexofLastSlash = req.url.lastIndexOf('/');\r\n        var id = req.url.slice(indexofLastSlash + 1);\r\n        if (!validate(id)) {\r\n            res.statusCode = 400;\r\n            var err = createError(400, \"the id \".concat(id, \" is invalid or url is incorect\"));\r\n            res.write(JSON.stringify(err, null, 2));\r\n            res.end();\r\n            return;\r\n        }\r\n        var user = state.users.find(function (user) { return user.id === id; });\r\n        if (!user) {\r\n            res.statusCode = 404;\r\n            var err = createError(404, \"user with the id \".concat(id, \" does not exist\"));\r\n            res.write(JSON.stringify(err, null, 2));\r\n            res.end();\r\n            return;\r\n        }\r\n        var IDindex = state.users.findIndex(function (user) { return user.id === id; });\r\n        var pathIndex = state.paths.findIndex(function (path) { return path === 'api/users/' + id; });\r\n        state.users.splice(IDindex, 1);\r\n        state.paths.splice(pathIndex, 1);\r\n        res.statusCode = 204;\r\n        res.write(\"the user with id: \".concat(id, \" deleted\"));\r\n        res.end();\r\n    });\r\n};\r\nexport default onDelete;\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as http from 'http';\r\nimport app from './app';\r\nimport 'dotenv/config';\r\nvar env = process.env, pid = process.pid;\r\nvar port = env.port;\r\nvar server = http.createServer();\r\nserver.listen(port, function () {\r\n    process.stdout.write(\"Server is running on port: \".concat(port, \" \\npid is: \").concat(pid, \" \\n\"));\r\n    server.addListener('request', function (req, res) { return __awaiter(void 0, void 0, void 0, function () { return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, app(req, res)];\r\n            case 1: return [2 /*return*/, _a.sent()];\r\n        }\r\n    }); }); });\r\n});\r\n"],"names":["Object","assign","process","argv","re","module","exports","args","reduce","acc","cur","matches","match","options","env","DOTENV_CONFIG_ENCODING","encoding","DOTENV_CONFIG_PATH","path","DOTENV_CONFIG_DEBUG","debug","DOTENV_CONFIG_OVERRIDE","override","fs","os","LINE","_log","message","console","log","DotenvModule","config","dotenvPath","resolve","cwd","Boolean","envPath","join","homedir","slice","parsed","parse","readFileSync","keys","forEach","key","prototype","hasOwnProperty","call","e","error","src","obj","lines","toString","replace","exec","value","trim","maybeQuote","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","prop","users","usersIDs","count","ids","paths","uuid","__filename","statusCode","codeClass","Number","String","charAt","randomUUID","rnds8Pool","Uint8Array","poolPtr","length","rng","byteToHex","i","push","buf","offset","rnds","random","arr","toLowerCase","unsafeStringify","__assign","t","s","arguments","p","apply","this","req","res","pid","port","send","headers","host","concat","method","url","indexFile","readble","indexofLastSlash","lastIndexOf","id","createReadStream","on","chunk","write","end","JSON","stringify","state","err","includes","sendError","hasUser","find","user","index","findIndex","splice","sendUser","userData","username","age","hobbies","reqPairs","split","allPropsNames","map","pair","hobbiesString","hobby","newUser","newUserInfo","IDindex","pathIndex","server","listen","stdout","addListener","thisArg","_arguments","generator","body","f","y","g","_","label","sent","trys","ops","next","verb","Symbol","iterator","v","op","TypeError","done","pop","step","__generator","_a","P","Promise","reject","fulfilled","rejected","result","then"],"sourceRoot":""}